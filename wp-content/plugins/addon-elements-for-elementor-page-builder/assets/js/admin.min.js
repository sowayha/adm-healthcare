jQuery(document).ready((function(e){!function(){if(null===document.querySelector(".eae-wrap"))return;const t=document.querySelector("#eae-select-all"),a=document.querySelectorAll(".eae-module-action"),o=document.querySelector("#eae-apply"),l=document.querySelector("#save-config");document.querySelectorAll(".eae-tabs .eae-title a").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=document.querySelectorAll(".eae-tabs .eae-title"),a=e.target.dataset.tabid;if("eae-get-pro"!==a)t.forEach((e=>e.classList.remove("active"))),e.target.parentElement.classList.add("active"),document.querySelectorAll(".eae-tab-content").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".eae-tab-content").forEach((e=>e.hasAttribute("id")&&e.getAttribute("id")===a?e.classList.add("active"):""));else{const t=e.target.getAttribute("href");window.open(t,"_blank")}}))}));let n=window.location.hash.substring(1),c=document.querySelectorAll(".eae-tabs .eae-title");n&&(c.forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".eae-tab-content").forEach((e=>e.classList.remove("active"))),c.forEach((e=>e.hasAttribute("id")&&e.getAttribute("id")===n?e.classList.add("active"):"")),document.querySelectorAll(".eae-tab-content").forEach((e=>e.hasAttribute("id")&&e.getAttribute("id")===n?e.classList.add("active"):"")));t.addEventListener("change",(function(e){const t=document.querySelectorAll(".eae-module-item");this.checked?t.forEach((function(e){e.checked=!0})):t.forEach((function(e){e.checked=!1}))})),a.forEach((function(t){t.addEventListener("click",(function(t){if(t.stopPropagation(),t.preventDefault(),t.target.hasAttribute("href")&&"#"!==t.target.getAttribute("href")){const e=t.target.getAttribute("href");return void window.open(e,"_blank")}const a=t.target,o=a.dataset.moduleid,l=a.dataset.action;let n={};n[o]=l,a.classList.add("updating"),e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_elements_save",moduleData:n,nonce:eaeGlobalVar.nonce},success:function(e){const t=e.modules;if(null!=t)for(module in t)if(t.hasOwnProperty(module)){let e=t[module],a=document.querySelector(`[data-moduleid='${module}']`);if(null===a)continue;"false"==e?(a.textContent="Activate",a.dataset.action="activate",a.parentElement.parentElement.classList.remove("eae-enabled"),a.parentElement.parentElement.classList.add("eae-disabled")):(a.textContent="Deactivate",a.dataset.action="deactivate",a.parentElement.parentElement.classList.add("eae-enabled"),a.parentElement.parentElement.classList.remove("eae-disabled")),a.classList.remove("updating"),moduleCBs=document.querySelectorAll(".eae-module-item"),moduleCBs.forEach((e=>e.checked=!1))}}})}))})),o.addEventListener("click",(function(t){const a=document.querySelector('[name="eae-bulk-action"]').value,o={};""!==a?(modules=document.querySelectorAll(".eae-module-item"),modules.forEach((function(e){e.checked&&(o[e.value]=a,e.closest(".eae-module-row").querySelector(".eae-module-action").children[0].hasAttribute("data-moduleid")&&e.closest(".eae-module-row").querySelector(".eae-module-action").classList.add("updating"))})),0!==Object.keys(o).length?e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_elements_save",moduleData:o,nonce:eaeGlobalVar.nonce},success:function(e){const t=e.modules;for(module in t)if(t.hasOwnProperty(module)){const e=t[module],a=document.querySelector(`[data-moduleid='${module}']`);if(null===a)continue;"false"===e?(a.textContent="Activate",a.dataset.action="activate",a.parentElement.parentElement.classList.remove("eae-enabled"),a.parentElement.parentElement.classList.add("eae-disabled")):(a.textContent="Deactivate",a.dataset.action="deactivate",a.parentElement.parentElement.classList.remove("eae-disabled"),a.parentElement.parentElement.classList.add("eae-enabled")),a.classList.remove("updating"),moduleCBs=document.querySelectorAll(".eae-module-item"),moduleCBs.forEach((e=>e.checked=!1))}}}):alert("Please select atleast one module")):alert("Please select an action")})),l.addEventListener("click",(function(t){let a="";const o=document.querySelector("#wts_eae_gmap_key").value;null!==document.querySelector("#wts_eae_youtube_api_key")&&(a=document.querySelector("#wts_eae_youtube_api_key").value);const l=this;l.classList.add("loading"),e.ajax({url:eaeGlobalVar.ajax_url,method:"post",data:{action:"eae_save_config",config:{wts_eae_gmap_key:o,wts_eae_youtube_api_key:a},nonce:eaeGlobalVar.nonce},success:function(e){1==e.success&&l.classList.remove("loading")}})}))}()}));